[circus]
check_delay = 5
endpoint = ipc:///home/yshalenyk/work/op/ocds-api/openprocurement.ocds.buildout/var/circus_endpoint
pubsub_endpoint = ipc:///home/yshalenyk/work/op/ocds-api/openprocurement.ocds.buildout/var/circus_pubsub
umask = 002
logoutput = /home/yshalenyk/work/op/ocds-api/openprocurement.ocds.buildout/var/log/circus.log


statsd = True


[watcher:db]
cmd = couchdb
args = -a  /home/yshalenyk/work/op/ocds-api/openprocurement.ocds.buildout/etc/couchdb.ini
priority = 100
stdout_stream.class = FileStream
stderr_stream.class = FileStream
stdout_stream.filename = /home/yshalenyk/work/op/ocds-api/openprocurement.ocds.buildout/var/log/couchdb.stdout.log
stderr_stream.filename = /home/yshalenyk/work/op/ocds-api/openprocurement.ocds.buildout/var/log/couchdb.stderr.log



[env:db]
HOME = /home/yshalenyk/work/op/ocds-api/openprocurement.ocds.buildout/var

[plugin:db_http]
use = circus.plugins.http_observer.HttpObserver
restart_on_error = db
check_url = http://127.0.0.1:5984/




[watcher:webapp]
cmd = /home/yshalenyk/work/op/ocds-api/openprocurement.ocds.buildout/bin/gunicorn  --paste /home/yshalenyk/work/op/ocds-api/openprocurement.ocds.buildout/etc/api.ini --access-logfile - --error-log -

stdout_stream.class = FileStream
stderr_stream.class = FileStream
stdout_stream.filename = /home/yshalenyk/work/op/ocds-api/openprocurement.ocds.buildout/var/log/webapp.stdout.log
stderr_stream.filename = /home/yshalenyk/work/op/ocds-api/openprocurement.ocds.buildout/var/log/webapp.stderr.log



[plugin:webapp_resource]
use = circus.plugins.resource_watcher.ResourceWatcher
watcher = webapp
max_cpu = 95
max_mem = 400M


